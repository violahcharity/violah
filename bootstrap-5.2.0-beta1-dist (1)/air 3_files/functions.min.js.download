var ajax = function () { return { query: function (a) { return $.ajax({ url: a.url, type: a.type, data: JSON.stringify(a.data), contentType: "application/json; charset=utf-8", dataType: "json", headers: { Accept: "application/json;odata=verbose" }, success: function (a) { } }) } } }(); function setcountryandlanguage(a, b) { "undefined" != a && (document.cookie = "countrycode=" + a + ";expires=" + _cookieexpires + ";path=/"); "undefined" != b && (document.cookie = "languagecode=" + b + ";expires=" + _cookieexpires + ";path=/"); showcountryandlanguage() }
function showcountryandlanguage() {
    _cookiecountrycode = document.cookie.replace(/(?:(?:^|.*;\s*)countrycode\s*=\s*([^;]*).*$)|^.*$/, "$1"); _cookielanguagecode = document.cookie.replace(/(?:(?:^|.*;\s*)languagecode\s*=\s*([^;]*).*$)|^.*$/, "$1"); if ("undefined" == _cookiecountrycode || "" == _cookiecountrycode) {
        var a = "", b = ""; "undefined" != _locationpatharray && (a = _locationpatharray[1], b = _locationpatharray[_locationpatharray.length - 1], 0 < b.indexOf(".aspx") && (b = "")); "" == a && (a = "glo"); "" == b && (b = "en"); setcountryandlanguage(a,
        b); _cookiecountrycode = a.toUpperCase(); _cookielanguagecode = b
    } $(".flag").attr("src", "/static/image_n/flags/" + _cookiecountrycode + ".png"); $("#s_countrycode").html(_cookielanguagecode); $(".dd_country").val(_cookiecountrycode).selectric("refresh")
} function getMobileOperatingSystem() { var a = navigator.userAgent || navigator.vendor || window.opera; return /windows phone/i.test(a) ? "Windows Phone" : /android/i.test(a) ? "android" : /iPad|iPhone|iPod/.test(a) && !window.MSStream ? "iOS" : "unknown" }
var _locationpatharray = window.location.pathname.split("/"), _cookiecountrycode = document.cookie.replace(/(?:(?:^|.*;\s*)countrycode\s*=\s*([^;]*).*$)|^.*$/, "$1"), _cookielanguagecode = document.cookie.replace(/(?:(?:^|.*;\s*)languagecode\s*=\s*([^;]*).*$)|^.*$/, "$1"), _cookiedatenow = new Date; _cookiedatenow.setTime(_cookiedatenow.getTime() + 1296E6); var _cookieexpires = _cookiedatenow.toUTCString(), _contrast = document.cookie.replace(/(?:(?:^|.*;\s*)contrast\s*=\s*([^;]*).*$)|^.*$/, "$1");
null != _contrast && "" != _contrast && "nor" != _contrast && ($("link[href*='/static/css_n/" + _contrast + ".css']").remove(), $("head").append('<link rel="stylesheet" href="/static/css_n/' + _contrast + '.css" type="text/css" />')); $(".style-switch-normal").click(function () { $("link[href*='/static/css_n/bow.css']").remove(); $("link[href*='/static/css_n/yob.css']").remove(); $("link[href*='/static/css_n/boy.css']").remove(); document.cookie = "contrast=nor;expires=" + _cookieexpires + ";path=/" });
$(".style-switch-BOW").click(function () { $("head").append('<link rel="stylesheet" href="/static/css_n/bow.css" type="text/css" />'); document.cookie = "contrast=bow;expires=" + _cookieexpires + ";path=/"; $("link[href*='/static/css_n/yob.css']").remove(); $("link[href*='/static/css_n/boy.css']").remove() });
$(".style-switch-YOB").click(function () { $("head").append('<link rel="stylesheet" href="/static/css_n/yob.css" type="text/css" />'); document.cookie = "contrast=yob;expires=" + _cookieexpires + ";path=/"; $("link[href*='/static/css_n/bow.css']").remove(); $("link[href*='/static/css_n/boy.css']").remove() });
$(".style-switch-BOY").click(function () { $("head").append('<link rel="stylesheet" href="/static/css_n/boy.css" type="text/css" />'); document.cookie = "contrast=boy;expires=" + _cookieexpires + ";path=/"; $("link[href*='/static/css_n/bow.css']").remove(); $("link[href*='/static/css_n/yob.css']").remove() }); "undefined" != $(".alert-wrapper") && "undefined" != $("#countdown") && $("#countdown").addClass("with-alert");
$(".flaticon-search").click(function (a) { var b = $(".t_searchmain").val(); "" == b && (b = $(".t_searchmobile").val()); document.location.href = "/Search?searchtext=" + b + "&folderid=0&searchfor=all&orderby=id&orderdirection=ascending"; a.preventDefault() });
if ("undefined" != _cookiecountrycode || "" != _cookiecountrycode) try {
    var xhttp = new XMLHttpRequest; xhttp.onreadystatechange = function () {
        if (4 == this.readyState && 200 == this.status) {
            var a = $(this.responseXML).find('item[displaytext="' + _cookiecountrycode.toUpperCase() + '"]'); if (0 < a.length) {
                var b = $(a)[0].getAttribute("defaultairportcode"); a = $(a)[0].getAttribute("defaultairportname"); "" == $(".txtairport_from").val() && ($(".txtairport_from").val(a), $(".book_flight_from_p").val(b), $(".flight_timetable_from_p").val(b),
                $(".flight_status_from_p").val(b)); $("#book_flight_from_2").val(""); $(".multi_book_flight_from_p_2").val("")
            }
        }
    }; xhttp.open("GET", "/Source/Resources/t_maincountrieslist.xml", !0); xhttp.send()
} catch (a) { }
$("#btn_savesettings").click(function () { var a = $(".dd_country").val(), b = $(".dd_language").val(), c = ""; "" != a && (c = "/" + a.toLowerCase() + "/" + _cookielanguagecode); b && "en" == b.toLowerCase() && (c = "/" + a.toLowerCase() + "/en/"); b && "fr" == b.toLowerCase() && (c = "/" + a.toLowerCase() + "/fr/"); b && "cn" == b.toLowerCase() && (c = "/" + a.toLowerCase() + "/cn/"); setcountryandlanguage(a, b); "" != c && (document.location.href = c) });
$(".dd_country").change(function () { var a = $(this).val(); a && ("fr" == a.toLowerCase() && ($(".dd_language").empty(), $(".dd_language").append($("<option>", { value: "fr", text: "French" })), $(".dd_language").append($("<option>", { value: "en", text: "English" })), $(".dd_language").selectric("refresh")), "cn" == a.toLowerCase() && ($(".dd_language").empty(), $(".dd_language").append($("<option>", { value: "cn", text: "Chinese" })), $(".dd_language").append($("<option>", { value: "en", text: "English" })), $(".dd_language").selectric("refresh"))) });
$("#innerdeals_dd_country").change(function () { var a = $(this).val(); a && (document.location.href = "/" + a + "/plan-and-book/deals-and-promotions/" + _cookielanguagecode) });
$(document).ready(function () {
    $(this).mousemove(function (a) { idleTime = 0 }); $(this).keypress(function (a) { idleTime = 0 }); $("link[href*='https://upgrade.plusgrade.com/offer/css/jquery-ui-pg-marketing.custom.css']").remove(); $("link[href*='https://upgrade.plusgrade.com/offer/css/marketing.css']").remove(); "undefined" != $(".flag") && showcountryandlanguage(); var a = ""; "undefined" != _locationpatharray && (a = _locationpatharray[1]); var b = "/" + a + "/homebanners/"; "en" != _cookielanguagecode && (b = "/" + a + "/homebanners/" + _cookielanguagecode);
    "" != b && $(".home-slider").load(b + " .item", function (a, b, d) { a = getMobileOperatingSystem(); "android" == a ? $(".home-slider").owlCarousel({ items: 0, autoplay: !1 }) : "iOS" == a ? $(".home-slider").owlCarousel({ items: 0, autoplay: !1 }) : $(".home-slider").owlCarousel({ items: 1, autoplay: !0, autoplayTimeout: 7E3, animateOut: "fadeOut", responsiveRefreshRate: 0, loop: !0, dotsContainer: ".home-slider-dots" }) }); $("link[href*='/static/css_n/grayscale.css']") && $("#announcement-popup-conrainer").load("/darkalert/ .announcement-popup-wrapper",
    function (a, b, d) { $("#announcement-popup-conrainer").show(); $(".announcement-popup .btn-close").bind("touchstart click", function () { $("#announcement-popup-conrainer").fadeOut(); return !1 }) }); "" != $("#infosummary p").text().trim() && ($("#infosummary").fadeIn("fast"), $(".floating-widget").addClass("is-visible"), $(".floating-widget .hidden").show(), $(".floating-widget .date-col").css("display", "table-cell"), $(".floating-widget .btn-col").hide()); /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    if ($("#upgrade_flight").length) {
        try {
            $("#aspnetForm").validateWebForm({ highlight: function (a, b) { $(a).css({ border: "1px solid #ff0000", color: "#ff0000" }); $(a).parent().addClass("error") }, unhighlight: function (a, b) { $(a).css({ border: "1px solid #555555", color: "#555555" }); $(a).parent().removeClass("error") } }), $.validator.addMethod("custompasswordrules", function (a, b) { return "/^(?=.*[a-z])(?=.*[A-Z])(?=.*d)(?=.*[$&#64;$!%*?&])[A-Za-zd$&#64;$!%*?&]{6,}/".test(a) }), $(".check_in_ref").rules("add", {
                required: function (a) {
                    return "" ==
                    $(".check_in_etkt2").val()
                }, messages: { required: "Enter Booking reference or E-ticket Number" }
            }), $(".check_in_etkt2").rules("add", { required: function (a) { return "" == $(".check_in_ref").val() }, messages: { required: "Enter Booking reference or E-ticket Number" } }), $(".txtPNR").rules("add", { required: function (a) { return "" == $(".txtTckt2").val() }, messages: { required: "Enter Booking reference or E-ticket Number" } }), $(".txtTckt2").rules("add", { required: function (a) { return "" == $(".txtPNR").val() }, messages: { required: "Enter Booking reference or E-ticket Number" } }),
            $(".book_flight_return").rules("add", { required: function (a) { return "R" == $(".book_flight_type").val() }, messages: { required: "" } }), $(".timetable_to").rules("add", { required: function (a) { return "R" == $(".flight_timetable_type").val() }, messages: { required: "" } }), $(".reg_confirm_password").rules("add", { required: !0, minlength: 6, custompasswordrules: !0, equalTo: "reg_password", messages: { required: "Check password" } }), $(".chk_agree").rules("add", {
                required: !0, messages: { required: "Please agree to Kenya Airways Terms of use and Privacy Policy" },
                highlight: function (a, b) { $(a).css({ border: "1px solid #ff0000", color: "#ff0000" }); $(a).parent().addClass("error") }, unhighlight: function (a, b) { $(a).css({ border: "1px solid #555555", color: "#555555" }); $(a).parent().removeClass("error") }
            })
        } catch (c) { } $("#result").on("click", ".contact-tab", function () {
            $(".contact-tab").removeClass("active"); $(this).addClass("active"); var a = $(this).attr("href"); $('a[href="' + a + '"]').addClass("active"); $(".contact-tab-container").removeClass("active").hide(); $(a).addClass("active").show();
            return !1
        }); "undefined" != _locationpatharray && (a = _locationpatharray[1].toUpperCase(), $("#innerdeals_dd_country").val(a).selectric("refresh")); null != _cookiecountrycode && "fr" == _cookielanguagecode && $("a[href='/plan-and-book/deals-and-promotions/fr/']").attr("href", "/" + _cookiecountrycode + "/plan-and-book/deals-and-promotions/fr/"); null != _cookiecountrycode && "cn" == _cookielanguagecode && $("a[href='/plan-and-book/deals-and-promotions/cn/']").attr("href", "/" + _cookiecountrycode + "/plan-and-book/deals-and-promotions/cn/");
        null != _cookiecountrycode && "en" == _cookielanguagecode && $("a[href='/plan-and-book/deals-and-promotions/en/']").attr("href", "/" + _cookiecountrycode + "/plan-and-book/deals-and-promotions/en/")
    }
});